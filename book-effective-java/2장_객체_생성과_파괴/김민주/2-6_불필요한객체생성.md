## 아이템 6. 불필요한 객체 생성을 피하라.

```java
// 하지말아야 하는 예시
String s = new String("bikini");

// 하나의 String 인스턴스 사용
// 같은 가상머신 내에서 똑같은 문자열 리터럴을 사용하는 모든 코드가 같은 객체임을 보장
String s = "bikini";
```

- 똑같은 기능의 객체를 매번 생성하기보다 객체 하나를 재사용하는 편이 좋다.
- 생성자 대신 정적 팩터리 메서드를 제공하는 불변 클래스에서는 정적 팩터리 메서드를 사용하여 불필요한 객체 생성을 피한다.
- 생성 비용이 비싼 객체의 경우 캐싱하여 재사용하는 것을 추천한다.
  - 생성 비용이 비싼 객체 예시 : 생성할 때마다 정규표현식을 사용하여 검사하는 문자열
  - 이 경우 객체가 생성될 때마다 정규표현식을 생성하기 보다는 정규표현식을 생성하여 캐싱해두고 메서드가 호출될 때마다 재사용하는 것이 좋다.
  - 메서드가 한 번도 쓰이지 않는다면 불필요한 초기화가 된다.
  - 하지만 지연 초기화(lazy initialization)의 경우 성능이 개선되지 않는 경우가 많아 추천하지 않는다.

### 불필요한 객체 생성을 하는 경우

- 어댑터는 뒷단 객체 종류 하나당 하나면 충분하다.
- 오토박싱(auto boxing, 프로그래머가 기본 타입과 박싱된 기본 타입을 섞어 쓸 때 자동으로 상호 변환)
  - 기본타입과 그에 대응하는 박싱된 기본 타입의 구분을 흐려주지만, 완전히 없애주는 것은 아니다.
  - 기본타입을 사용해도 되는 곳에 박싱된 기본 타입을 사용하면 성능이 느려진다.

### 주의해야 할 점

- 객체 생성은 꼭 피해야 하는 것이 아니다.
  - 최근의 JVM은 생성 비용이 적은 객체를 생성하고 회수하는데 큰 부담이 없다.
  - 프로그램의 명확성, 간결성, 기능을 위해서 객체를 활용하자.
- 자신만의 객체 풀을 만들지 말자.
  - 데이터베이스의 커넥션 풀 같은 생성 비용이 큰 경우는 사용하는 것이 좋다.
  - 자체 객체 풀은 메모리 사용량을 늘리고 성능을 떨어뜨리는 경우가 많다.
